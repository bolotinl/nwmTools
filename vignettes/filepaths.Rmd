---
title: "Building File Lists"
author: "Mike Johnson"
date: "2022-11-21"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
load("../data/nwm_data.rda")
```

```{r}
table(nwm_data$source)
```

```{r}
table(nwm_data$config, nwm_data$source)

table(nwm_data$source, nwm_data$version)
```

### AWS

```{r}
xx = table(nwm_data$config, nwm_data$output, nwm_data$source)

xx[rowSums(xx[,,1]) > 0,colSums(xx[,,1]) > 0,1]
```

### GCP
```{r}
xx[rowSums(xx[,,2]) > 0,colSums(xx[,,2]) > 0,2]
```

### NOMADS

```{r}
xx[rowSums(xx[,,3]) > 0,colSums(xx[,,3]) > 0,3]
```

###

```{r}
get_gcp_urls(config = "short_range", output = "channel_rt", date = "2014-10-04", num = 4)
```

```{r}
get_aws_filelist(version = 2.1, output = "LDASOUT", date = "2013-10-04", num = 3)
get_aws_filelist(version = 2.1, output = "forcing", date = "2013-10-04", num = 3)
get_aws_filelist(version = 2.1, output = "LDASOUT", date = "2013-10-04", num = 3)
```

